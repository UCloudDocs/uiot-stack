# 使用限制

物联网平台系统套件（UIoT Stack）相关使用限制如下。



##  IoT平台限制

| 类别 | 项目及描述                                                   | 限制                     | 备注                                              |
| -------- | ------------------------------------------------------------ | ------------------------ | ------------------------------------------------- |
| 项目数量 | 平台最多可以创建的项目数量                    | 不做限制 |  |
| 产品数量 | 单项目（ProjectID）最多可以创建的产品数                      | 不做限制 |                                                   |
| 产品数量 | 平台最多可以创建的产品数                      | 256 | 部署时可依据需求配置 |
| 产品数量 | 单项目（ProjectID）最多可以创建的产品数                      | 不做限制 |                                                   |
| 设备数量 | 单产品最多可以添加的设备数                                   | 不做限制                 | 平台可创建的设备总数依据平台授权（license）设备数 |
| 连接通信 | MQTT连接心跳时间（Keep Alive）为30秒至1,200秒。心跳时间不在此区间内，服务器将会拒绝连接（建议取值300秒以上） | 30-1,200秒               |                                                   |
| 连接通信 | MQTT  Retain 保留消息                                        | 不支持                   |                                                   |
| 连接通信 | QoS 2                                                        | 不支持                   |                                                   |
| 连接通信 | 单设备的最大订阅数。 超过订阅数的请求将会被直接拒绝。设备端可以通过验证SUBACK消息，确认请求是否成功 | 不做限制                |                                                   |
| 连接通信 | MQTT的Pub上报消息限流                                        | 不区分QoS，单连接30条/秒 | 部署时可依据需求配置 |
| 连接通信 | MQTT报文最大长度                                             | 256MB                    |  |
| 连接通信 | 单个连接每秒的吞吐量（带宽）最大限制                         | 1024KB                   | 部署时可依据需求配置 |
| 连接通信 | QoS 1消息的最大存储时间                                      | 72小时                   |                                                   |
| 连接通信 | 单个连接 下行QoS 1缓存最大消息数                             | 100条                    |                                                   |
| OTA      | 单产品下可创建固件模块数量                                   | 10个                     | default模块不算入10个模块中                       |
| OTA      | 单个固件文件大小上限                                         | 100M                     |                                                   |
| OTA      | 升级任务记录保存时间                                         | 不删除                  |                                                   |
| Topic    | 一个产品最多可以定义Topic类数量                              | 不做限制 |                                                   |
| Topic    | 设备只能对自己的Topic进行消息发布与订阅                      | -                       |                                                   |
| Topic    | 剩余Topic长度限制（UTF-8 编码字符）                            | 64位               |                                                   |
| Topic    | Topic中斜杠的最大数量                                        | 7                        |                                                   |
| 规则引擎 | 单项目下设置规则最大数量                                   | 不做限制 |                                                   |
| 规则引擎 | 一条规则中转发数据的操作最大数量                             | 不做限制 |                                                   |
| 数据解析 | 数据解析支持脚本语言                      |     JavaScript              |                                                   |
| 预认证 | 单产品下预认证列表中设备上限                      | 不做限制 |                                                   |
| 监控视图 | 监控视图保存数据时间                   | 90天 |                                                   |
| 日志管理 | 日志管理保存数据时间               | 90天 |                                                   |
| 数据视图 | 数据视图保存数据时间               | 90天 |                                                   |
| 数据视图 | 单产品下可创建视图数量   | 不做限制 |                                                   |
| 数据视图 | 单数据视图可添加数据项数量 | 30项 |                                                   |
| 数据视图 | 数据视图保存数据时间               | 90天 |                                                   |



## Edge使用限制

Edge 软件提供边缘网关的运行时，需要用户自行购买硬件网关并安装操作系统。 

**Edge运行时对硬件和系统的使用要求如下：**

| 参数     | 进程版                                            | Docker版                        |
| -------- | ------------------------------------------------- | ------------------------------- |
| CPU架构  | x86_64(amd64)<br>armv8(aarch64)<br>armv7(aarch32) | x86_64(amd64)<br>armv8(aarch64) |
| CPU主频  | ≥528MHz                                           | ≥1.2GHz                         |
| 内存     | ≥256MB                                            | ≥2GB                            |
| 硬盘     | ≥128MB                                            | ≥2GB                            |
| GPU/NPU  | 可选                                              | 可选                            |
| OS       | linux <br>kernel version ≥4.1                     | linux<br>docker version ≥18.09  |
| 端口占用 | 19980(本地Web Portal)                             | 19980(本地Web Portal)           |



**Edge 运行时使用限制：**

| 类别             | 描述                             | 限制                     |
| ---------------- | -------------------------------- | ------------------------ |
| 子设备数量       | 单个边缘网关下挂子设备数量       | 无限制                   |
| 驱动数量         | 单个边缘网关可以使用驱动数量     | IoT平台部署无限制，本地无限制 |
| 驱动文件大小     | 每个驱动允许上传的文件大小       | 100MB                    |
| 驱动开发语言     | 开发驱动的编程语言               | Python3、C               |
| 函数计算数量     | 单个边缘网关可以使用函数计算数量 | IoT平台部署无限制，本地无限制 |
| 函数计算开发语言 | 开发函数计算的编程语言           | Python3                  |
| 本地应用数量     | 单个边缘网关可以使用本地应用数量 | IoT平台部署无限制，本地无限制 |
| 本地应用大小     | 每个本地应用允许上传的文件大小 | 100MB |
| 本地应用开发语言     | 开发函数计算的编程语言         | Python3、C                |
| 消息路由数量     | 单个边缘网关可以配置消息路由数量 | IoT平台部署无限制，本地无限制 |
| 缓存消息数       | 网络断开时，本地最大缓存的消息数 | 1000条消息               |
| 缓存消息时间     | 网络断开时，已缓存的消息保存时间 | 60分钟                   |

缓存消息说明：达到缓存时间、缓存条数二者中任一限制即丢弃。